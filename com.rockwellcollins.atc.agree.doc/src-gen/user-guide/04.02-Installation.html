<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>AGREE User Guide</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">AGREE User Guide</h1>
</header>
<h2 id="sec:agree_osate_installation">Installation</h2>
<p>Installing the AGREE/OSATE Tool Suite consists of four steps, described in each of the following sections.</p>
<h3 id="sec:install-osate">Install OSATE</h3>
<p>Binary releases of the OSATE tool suite for different platforms are available at <a href="http://osate.org/osate-releases.html">OSATE Releases</a>. Choose the most recent version of OSATE that is appropriate for your platform. At the time of writing this document, there are binary tar ball installations for 64-bit Linux and Apple MAC OSX and binary ZIP installations for 32-bit and 64-bit Microsoft Windows.</p>
<p>Once the .zip file is downloaded, all that is required is to unzip it into a location in the file system. One candidate location for Windows is C:\apps\osate, but any location in the file system that is write-accessible is fine. After expanding the .zip file, navigate to the osate.exe file and double-click it. The splash screen shown in Figure <a href="#fig:osate_splash_screen">1</a> should appear, and OSATE should begin loading:</p>
<figure>
<img src="../../media/image15.png" id="fig:osate_splash_screen" alt="Figure 1: OSATE Splash Screen" /><figcaption aria-hidden="true">Figure 1: OSATE Splash Screen</figcaption>
</figure>
<p>If OSATE loads successfully, continue to the next step in the installation process. If not, and you are running Windows, the most likely culprit involves mismatches between the 32-bit and 64-bit version of OSATE and the bit-level of the Windows OS. Please check to see whether the version of OSATE matches the bit-level of your version of Windows OS. If running Windows 7, this information can be found in the System Control Panel as shown below in Figure <a href="#fig:windows_version_information">2</a>. Note that this information is also required for downloading the correct version of the SMT Solver in the next installation step.</p>
<figure>
<img src="../../media/image16.png" id="fig:windows_version_information" class="class" style="width:90.0%" alt="Figure 2: Windows OS Version and Bit size information" /><figcaption aria-hidden="true">Figure 2: Windows OS Version and Bit size information</figcaption>
</figure>
<h3 id="sec:install-the-smt-solver">Install the SMT Solver</h3>
<p>Either one of the following SMT solvers can be used as the underlying symbolic solver invoked by the JKind model checker: Yices from SRI, or Z3 from Microsoft, Inc.</p>
<p>To download Yices, navigate to <a href="http://yices.csl.sri.com/">Yices Install</a> and download the version of Yices appropriate for your platform.</p>
<p>To download Z3, navigate to <a href="https://github.com/Z3Prover/z3/releases">Z3 Releases</a> and download the version of Z3 appropriate for your platform.</p>
<p>Either tool must be unzipped and placed in a directory somewhere in the file system. Then this directory must be added to the system path. For directions on how to add directories to your path, please see <a href="http://stackoverflow.com/questions/14637979/how-to-permanently-set-path-on-linux">How to permanently set $PATH on Linux/Unix?</a>, or see <a href="http://architectryan.com/2012/10/02/add-to-the-path-on-mac-os-x-mountain-lion/#.VszAv_krJph">Add to the PATH on Mac OS X 10.8 Mountain Lion</a> for Mac OS.</p>
<p>To add directories to your system path in Windows, first navigate to the System Control Panel and choose the “Advanced system settings” button on the left side of the panel. The system properties dialog will appear. Choose the “Advanced” tab in the dialog as shown in Figure <a href="#fig:system_properties_dialog">3</a>, then click “Environment variables”.</p>
<figure>
<img src="../../media/image17.png" id="fig:system_properties_dialog" style="width:60.0%" alt="Figure 3: System Properties Dialog Box" /><figcaption aria-hidden="true">Figure 3: System Properties Dialog Box</figcaption>
</figure>
<p>The environment variables dialog box is shown in Figure <a href="#fig:environment_variables_dialog">4</a>.</p>
<figure>
<img src="../../media/image18.png" id="fig:environment_variables_dialog" style="width:60.0%" alt="Figure 4: Environment Variables Dialog Box" /><figcaption aria-hidden="true">Figure 4: Environment Variables Dialog Box</figcaption>
</figure>
<p>In order to make the application available to all user accounts choose the PATH environment variable in the “System variables” section and click “Edit…”. This will bring up a text edit box, as seen in Figure <a href="#fig:system_variable_edit_dialog">5</a>. If the existing path string in the text edit box does not end with a semicolon (‘;’), add a semicolon first, then append the path to the SMT solver’s “bin” directory, and click “OK” on the dialogs. The bin directory for the Yices tool is underneath the main Yices directory, e.g., C:\Apps\ yices-2.4.2-x86_64-pc-mingw32-static-gmp\yices-2.4.2\bin. The bin directory for the Z3 tool is underneath the main z3 directory, e.g., C:\Apps\z3-4.4.1-x64-win\z3-4.4.1-x64-win\bin.</p>
<figure>
<img src="../../media/image19.png" id="fig:system_variable_edit_dialog" style="width:3.45863in;height:1.55847in" alt="Figure 5: System Variable Text Edit Box" /><figcaption aria-hidden="true">Figure 5: System Variable Text Edit Box</figcaption>
</figure>
<p>To test whether Yices has been correctly installed on either Windows or Linux, open up a command prompt window and type: yices –version. A version number for Yices matching the installed version should be displayed.</p>
<p>To test whether z3 has been correctly installed on either Windows or Linux, open up a command prompt window and type: z3 -version. A version number for Z3 matching the installed version should be displayed.</p>
<h3 id="sec:install-the-jkind-model-checker">Install the JKind Model Checker</h3>
<p>Download the latest release of jKind at: <a href="https://github.com/agacek/jkind/releases" class="uri">https://github.com/agacek/jkind/releases</a> and unzip it into a location in the file system. Place the directory containing jkind.jar on your path using the same technique that was described for installing yices.</p>
<p>To test whether JKind has been successfully installed, open a new command window and type “jkind”. You should see something like the following:</p>
<pre><code>usage: jkind [options] &lt;input&gt;
-excel generate results in Excel format
-help print this message
-induct_cex generate inductive counterexamples
-interval generalize counterexamples using interval analysis
-n &lt;arg&gt; maximum depth for bmc and k-induction (default: 200)
-no_bmc disable bounded model checking
-no_inv_gen disable invariant generation
-no_k_induction disable k-induction
-pdr_max &lt;arg&gt; maximum number of PDR parallel instances (0 to disable PDR)
-read_advice &lt;arg&gt; read advice from specified file
-scratch produce files for debugging purposes
-smooth smooth counterexamples (minimal changes in input values)
-solver &lt;arg&gt; SMT solver (default: yices, alternatives: cvc4, z3,
yices2, mathsat, smtinterpol)
-support find a set of support and reduce invariants used
-timeout &lt;arg&gt; maximum runtime in seconds (default: 100)
-version display version information
-write_advice &lt;arg&gt; write advice to specified file
-xml generate results in XML format
-xml_to_stdout generate results in XML format on standard out

C:\apps &gt;</code></pre>
<h3 id="sec:install-agree">Install AGREE</h3>
<p>Download the latest release of AGREE from <a href="https://github.com/smaccm/smaccm/releases">SMACCM Releases</a> and unzip it into a location in the file system. Unzipping the file should create a directory called “plugins” containing a set of .jar files. Then start OSATE if haven’t already, go to Help-&gt;Installation Details, and in the “Installed Software” click on AGREE and uninstall the plugin. After uninstall the default AGREE that comes with OSATE, go in to the OSATE/plugins folder and delete the three .jar files that start with “com.rockwellcollins.atc.agree”. Then copy all the .jar files from the plugin folder of the AGREE’s latest release into OSATE/plugins folder. Figure <a href="#fig:osate_plugins_directory">6</a> shows a screen capture of the OSATE/plugins folder after copying the .jar files that come with AGREE release v2.2.0.0.</p>
<figure>
<img src="../../media/image20.png" id="fig:osate_plugins_directory" class="class" style="width:90.0%" alt="Figure 6: OSATE/plugins Directory with .jar Files Replaced" /><figcaption aria-hidden="true">Figure 6: OSATE/plugins Directory with .jar Files Replaced</figcaption>
</figure>
<p>To test whether AGREE has been correctly installed, start OSATE. If it has been correctly installed, an AGREE menu should appear in OSATE, as shown in Figure <a href="#fig:agree_install_test">7</a>.</p>
<p><strong>Note</strong>: If Yices version 2.X.X (e.g., 2.4.2) is used, select “Yices 2” in OSATE “Window” menu -&gt; “Preferences” -&gt; “Agree” -&gt; “Analysis” -&gt; SMT Solver, as shown in Figure <a href="#fig:smt_solver_selection">8</a>. Users can also adjust the timeout and maximum depth for k-induction to use in the “Analysis” configuration dialog.</p>
<figure>
<img src="../../media/image21.png" id="fig:agree_install_test" class="class" style="width:90.0%" alt="Figure 7: AGREE Install Test" /><figcaption aria-hidden="true">Figure 7: AGREE Install Test</figcaption>
</figure>
<figure>
<img src="../../media/image22.png" id="fig:smt_solver_selection" class="class" style="width:90.0%" alt="Figure 8: SMT Solver Selection" /><figcaption aria-hidden="true">Figure 8: SMT Solver Selection</figcaption>
</figure>
</body>
</html>
